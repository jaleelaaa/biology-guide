<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fluid Mosaic Model - Interactive | Plus One Biology</title>
    <meta name="description" content="Interactive Fluid Mosaic Model - Interactive for Kerala Board Plus One Biology">

    <!-- React and Babel from CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Base Styles -->
    <link rel="stylesheet" href="/css/base.css">

    <style>
        /* ============================================
           Back Button Styling
           ============================================ */
        body {
            margin: 0;
            padding: 0;
        }

        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background: white;
            color: #4169E1;
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 10000;
            transition: all 0.3s ease;
            border: 2px solid #4169E1;
        }

        .back-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.2);
            background: #4169E1;
            color: white;
        }

        /* ============================================
           Component Specific Styles
           ============================================ */
/**
 * FluidMosaicInteractive.css
 * Styles for Interactive Fluid Mosaic Model diagram
 *
 * Features:
 * - Professional publication-ready design
 * - Smooth hover and click interactions
 * - Responsive layout
 * - Accessibility-focused (WCAG 2.1 AA)
 * - Print-friendly styles
 * - Animation effects
 *
 * @version 1.0.0
 * @date 2025-12-09
 */

/* ========================================
   Root Variables & Typography
   ======================================== */

:root {
  /* Color Palette */
  --primary-color: #2c3e50;
  --secondary-color: #3498db;
  --accent-color: #e74c3c;
  --success-color: #27ae60;
  --warning-color: #f39c12;

  /* Neutral Colors */
  --bg-color: #ffffff;
  --bg-secondary: #f8f9fa;
  --border-color: #dee2e6;
  --text-primary: #2c3e50;
  --text-secondary: #6c757d;
  --text-muted: #95a5a6;

  /* Component Colors */
  --panel-bg: #ffffff;
  --panel-shadow: rgba(0, 0, 0, 0.1);
  --hover-bg: #f0f8ff;
  --active-bg: #e3f2fd;

  /* Spacing */
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;
  --spacing-xxl: 3rem;

  /* Typography */
  --font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
  --font-size-base: 16px;
  --font-size-sm: 0.875rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-xxl: 1.5rem;
  --font-size-xxxl: 2rem;

  /* Transitions */
  --transition-fast: 0.15s ease-in-out;
  --transition-base: 0.3s ease-in-out;
  --transition-slow: 0.5s ease-in-out;

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-base: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);

  /* Border Radius */
  --radius-sm: 0.25rem;
  --radius-base: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-full: 9999px;
}

/* ========================================
   Global Styles & Container
   ======================================== */

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

.fluid-mosaic-container {
  font-family: var(--font-family);
  font-size: var(--font-size-base);
  color: var(--text-primary);
  background-color: var(--bg-color);
  max-width: 1400px;
  margin: 0 auto;
  padding: var(--spacing-xl);
  line-height: 1.6;
}

/* ========================================
   Header Section
   ======================================== */

.diagram-header {
  text-align: center;
  margin-bottom: var(--spacing-xl);
  padding: var(--spacing-xl);
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-lg);
}

.diagram-header h1 {
  font-size: var(--font-size-xxxl);
  font-weight: 700;
  margin-bottom: var(--spacing-sm);
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
}

.diagram-header .subtitle {
  font-size: var(--font-size-xl);
  font-weight: 500;
  margin-bottom: var(--spacing-md);
  opacity: 0.95;
}

.diagram-header .description {
  font-size: var(--font-size-base);
  max-width: 800px;
  margin: 0 auto;
  opacity: 0.9;
  line-height: 1.7;
}

/* ========================================
   Controls Panel
   ======================================== */

.controls-panel {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: var(--spacing-lg);
  padding: var(--spacing-lg);
  background-color: var(--bg-secondary);
  border: 2px solid var(--border-color);
  border-radius: var(--radius-lg);
  margin-bottom: var(--spacing-xl);
  box-shadow: var(--shadow-base);
}

.controls-panel label {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  font-weight: 500;
  color: var(--text-primary);
  cursor: pointer;
  transition: color var(--transition-fast);
}

.controls-panel label:hover {
  color: var(--secondary-color);
}

.controls-panel input[type="checkbox"] {
  width: 20px;
  height: 20px;
  cursor: pointer;
  accent-color: var(--secondary-color);
}

.controls-panel input[type="range"] {
  width: 150px;
  cursor: pointer;
  accent-color: var(--secondary-color);
}

.animation-speed {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xs);
}

.animation-speed span {
  font-size: var(--font-size-sm);
  color: var(--text-secondary);
}

.export-buttons {
  display: flex;
  gap: var(--spacing-sm);
  margin-left: auto;
}

.export-btn {
  padding: var(--spacing-sm) var(--spacing-lg);
  background-color: var(--secondary-color);
  color: white;
  border: none;
  border-radius: var(--radius-base);
  font-size: var(--font-size-base);
  font-weight: 600;
  cursor: pointer;
  transition: all var(--transition-fast);
  box-shadow: var(--shadow-sm);
}

.export-btn:hover {
  background-color: #2980b9;
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

.export-btn:active {
  transform: translateY(0);
  box-shadow: var(--shadow-sm);
}

.export-btn:focus {
  outline: 3px solid rgba(52, 152, 219, 0.3);
  outline-offset: 2px;
}

/* ========================================
   Main SVG Diagram
   ======================================== */

.main-diagram {
  width: 100%;
  height: auto;
  background-color: white;
  border: 3px solid var(--border-color);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-lg);
  margin-bottom: var(--spacing-xl);
}

/* SVG Text Styles */
.environment-label {
  font-size: 16px;
  font-weight: 600;
  fill: #000080;
  font-family: var(--font-family);
}

.core-label {
  font-size: 18px;
  font-weight: 700;
  fill: #8B4513;
  font-family: var(--font-family);
}

.core-sublabel {
  font-size: 14px;
  font-style: italic;
  fill: #8B4513;
  font-family: var(--font-family);
}

.protein-label {
  font-size: 24px;
  font-weight: bold;
  fill: #ffffff;
  font-family: var(--font-family);
}

.peripheral-label {
  font-size: 11px;
  font-weight: 600;
  fill: #000000;
  font-family: var(--font-family);
}

.fluid-label {
  font-size: 14px;
  font-weight: 600;
  fill: #4169E1;
  font-family: var(--font-family);
}

.fluid-sublabel {
  font-size: 12px;
  font-style: italic;
  fill: #4169E1;
  font-family: var(--font-family);
}

.mosaic-label {
  font-size: 16px;
  font-weight: 600;
  fill: #2c3e50;
  font-family: var(--font-family);
}

/* ========================================
   Interactive SVG Elements
   ======================================== */

/* Phospholipid Hover Effects */
.phospholipid-head {
  transition: all var(--transition-fast);
}

.phospholipid-head:hover {
  transform: scale(1.2);
  filter: brightness(1.2);
}

.phospholipid-tail {
  transition: all var(--transition-fast);
}

.phospholipid-tail:hover {
  stroke-width: 4;
  filter: brightness(1.1);
}

/* Protein Hover Effects */
.protein-body {
  transition: all var(--transition-base);
}

.protein-body:hover {
  filter: brightness(1.15) drop-shadow(0 0 8px rgba(147, 112, 219, 0.6));
  stroke-width: 4;
}

.integral-protein:hover .protein-label {
  font-size: 28px;
}

/* Peripheral Protein Hover Effects */
.peripheral-body {
  transition: all var(--transition-base);
}

.peripheral-body:hover {
  filter: brightness(1.15) drop-shadow(0 0 6px rgba(147, 112, 219, 0.5));
  stroke-width: 3;
}

/* Glycoprotein Hover Effects */
.glyco-chain {
  transition: all var(--transition-base);
}

.glycoprotein:hover .glyco-chain {
  stroke-width: 6;
  filter: drop-shadow(0 0 6px rgba(255, 105, 180, 0.6));
}

.glycoprotein:hover circle {
  transform: scale(1.3);
  filter: brightness(1.2);
}

/* Cholesterol Hover Effects */
.cholesterol-body {
  transition: all var(--transition-base);
}

.cholesterol:hover .cholesterol-body {
  filter: brightness(1.15) drop-shadow(0 0 6px rgba(255, 99, 71, 0.5));
  stroke-width: 3;
}

.cholesterol:hover circle {
  transform: scale(1.2);
}

/* ========================================
   Animations
   ======================================== */

/* Lateral Movement Animation */
@keyframes lateral-movement {
  0%, 100% {
    transform: translateX(0);
  }
  50% {
    transform: translateX(30px);
  }
}

.animate-lateral {
  animation: lateral-movement 20s ease-in-out infinite;
}

/* Pulse Animation for Fluid Arrows */
@keyframes pulse {
  0%, 100% {
    opacity: 0.6;
    stroke-width: 4;
  }
  50% {
    opacity: 1;
    stroke-width: 6;
  }
}

.animate-pulse {
  animation: pulse 2s ease-in-out infinite;
}

/* Fade In Animation */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fluid-mosaic-container > * {
  animation: fadeIn 0.6s ease-out;
}

/* ========================================
   Hover Tooltip
   ======================================== */

.hover-tooltip {
  position: fixed;
  bottom: var(--spacing-xl);
  left: 50%;
  transform: translateX(-50%);
  background-color: var(--primary-color);
  color: white;
  padding: var(--spacing-md) var(--spacing-lg);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-xl);
  z-index: 1000;
  pointer-events: none;
  animation: fadeIn 0.2s ease-out;
  max-width: 400px;
  text-align: center;
}

.hover-tooltip strong {
  display: block;
  font-size: var(--font-size-lg);
  margin-bottom: var(--spacing-xs);
}

.tooltip-hint {
  font-size: var(--font-size-sm);
  opacity: 0.9;
  margin: 0;
}

/* ========================================
   Details Panel
   ======================================== */

.details-panel {
  position: fixed;
  top: 0;
  right: -500px;
  width: 500px;
  height: 100vh;
  background-color: var(--panel-bg);
  box-shadow: var(--shadow-xl);
  overflow-y: auto;
  z-index: 2000;
  transition: right var(--transition-base);
  border-left: 4px solid var(--secondary-color);
}

.details-panel.active {
  right: 0;
}

.details-content {
  padding: var(--spacing-xl);
  position: relative;
}

.close-btn {
  position: absolute;
  top: var(--spacing-md);
  right: var(--spacing-md);
  width: 40px;
  height: 40px;
  background-color: var(--accent-color);
  color: white;
  border: none;
  border-radius: var(--radius-full);
  font-size: 24px;
  font-weight: bold;
  cursor: pointer;
  transition: all var(--transition-fast);
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: var(--shadow-base);
}

.close-btn:hover {
  background-color: #c0392b;
  transform: rotate(90deg) scale(1.1);
  box-shadow: var(--shadow-md);
}

.close-btn:focus {
  outline: 3px solid rgba(231, 76, 60, 0.3);
  outline-offset: 2px;
}

.details-content h2 {
  font-size: var(--font-size-xxl);
  color: var(--primary-color);
  margin-bottom: var(--spacing-lg);
  padding-right: 50px;
  border-bottom: 3px solid var(--secondary-color);
  padding-bottom: var(--spacing-sm);
}

.detail-section {
  margin-bottom: var(--spacing-xl);
}

.detail-section h3 {
  font-size: var(--font-size-xl);
  color: var(--secondary-color);
  margin-bottom: var(--spacing-md);
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

.detail-section h3::before {
  content: '▸';
  color: var(--accent-color);
  font-weight: bold;
}

.detail-section h4 {
  font-size: var(--font-size-lg);
  color: var(--text-primary);
  margin-top: var(--spacing-md);
  margin-bottom: var(--spacing-sm);
  font-weight: 600;
}

.detail-section ul {
  list-style: none;
  padding-left: 0;
}

.detail-section li {
  padding: var(--spacing-sm) var(--spacing-md);
  margin-bottom: var(--spacing-sm);
  background-color: var(--bg-secondary);
  border-left: 4px solid var(--secondary-color);
  border-radius: var(--radius-base);
  transition: all var(--transition-fast);
}

.detail-section li:hover {
  background-color: var(--hover-bg);
  transform: translateX(5px);
  box-shadow: var(--shadow-sm);
}

.detail-section li strong {
  color: var(--primary-color);
}

.detail-section p {
  padding: var(--spacing-md);
  background-color: var(--bg-secondary);
  border-radius: var(--radius-base);
  line-height: 1.7;
}

/* Warning Box */
.warning-box {
  background-color: #fff3cd;
  border: 2px solid #ffc107;
  border-left: 6px solid #ffc107;
  border-radius: var(--radius-base);
  padding: var(--spacing-md) var(--spacing-lg);
  margin: var(--spacing-lg) 0;
}

.warning-box strong {
  color: #856404;
  display: block;
  margin-bottom: var(--spacing-xs);
  font-size: var(--font-size-lg);
}

/* Exam Importance Box */
.exam-importance {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: var(--spacing-lg);
  border-radius: var(--radius-lg);
  margin-top: var(--spacing-lg);
  box-shadow: var(--shadow-md);
  line-height: 1.8;
}

.exam-importance strong {
  display: inline-block;
  margin-right: var(--spacing-xs);
}

/* ========================================
   Key Points Panel
   ======================================== */

.key-points-panel {
  background-color: var(--bg-secondary);
  border: 3px solid var(--border-color);
  border-radius: var(--radius-xl);
  padding: var(--spacing-xl);
  margin-bottom: var(--spacing-xl);
  box-shadow: var(--shadow-lg);
}

.key-points-panel h3 {
  font-size: var(--font-size-xxl);
  color: var(--primary-color);
  text-align: center;
  margin-bottom: var(--spacing-xl);
  border-bottom: 3px solid var(--secondary-color);
  padding-bottom: var(--spacing-md);
}

.key-points-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: var(--spacing-lg);
}

.key-point {
  background-color: white;
  padding: var(--spacing-lg);
  border-radius: var(--radius-lg);
  border: 2px solid var(--border-color);
  transition: all var(--transition-base);
  box-shadow: var(--shadow-sm);
}

.key-point:hover {
  transform: translateY(-5px);
  box-shadow: var(--shadow-lg);
  border-color: var(--secondary-color);
}

.key-point h4 {
  font-size: var(--font-size-xl);
  color: var(--secondary-color);
  margin-bottom: var(--spacing-md);
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

.key-point ul {
  list-style: none;
  padding-left: 0;
}

.key-point li {
  padding: var(--spacing-sm) 0;
  padding-left: var(--spacing-lg);
  position: relative;
  line-height: 1.6;
}

.key-point li::before {
  content: '✓';
  position: absolute;
  left: 0;
  color: var(--success-color);
  font-weight: bold;
  font-size: var(--font-size-lg);
}

.key-point li strong {
  color: var(--primary-color);
}

/* ========================================
   Footer
   ======================================== */

.diagram-footer {
  text-align: center;
  padding: var(--spacing-xl);
  background-color: var(--bg-secondary);
  border-top: 3px solid var(--border-color);
  border-radius: var(--radius-lg);
  margin-top: var(--spacing-xl);
}

.diagram-footer p {
  margin-bottom: var(--spacing-sm);
  color: var(--text-secondary);
}

.diagram-footer strong {
  color: var(--primary-color);
}

.ncert-ref {
  font-style: italic;
  font-size: var(--font-size-sm);
  color: var(--text-muted);
}

.standards {
  font-size: var(--font-size-sm);
  color: var(--success-color);
  font-weight: 600;
}

.copyright {
  font-size: var(--font-size-sm);
  color: var(--text-muted);
  margin-top: var(--spacing-md);
}

/* ========================================
   Responsive Design
   ======================================== */

@media (max-width: 1200px) {
  .details-panel {
    width: 450px;
    right: -450px;
  }
}

@media (max-width: 992px) {
  .fluid-mosaic-container {
    padding: var(--spacing-lg);
  }

  .controls-panel {
    flex-direction: column;
    align-items: stretch;
  }

  .export-buttons {
    margin-left: 0;
    justify-content: center;
  }

  .key-points-grid {
    grid-template-columns: 1fr;
  }

  .details-panel {
    width: 100%;
    right: -100%;
  }

  .details-panel.active {
    right: 0;
  }
}

@media (max-width: 768px) {
  .diagram-header h1 {
    font-size: var(--font-size-xxl);
  }

  .diagram-header .subtitle {
    font-size: var(--font-size-lg);
  }

  .diagram-header .description {
    font-size: var(--font-size-sm);
  }

  .controls-panel input[type="range"] {
    width: 100%;
  }

  .main-diagram {
    border-width: 2px;
  }

  .hover-tooltip {
    bottom: var(--spacing-md);
    left: var(--spacing-md);
    right: var(--spacing-md);
    transform: none;
  }
}

@media (max-width: 576px) {
  :root {
    --font-size-base: 14px;
  }

  .fluid-mosaic-container {
    padding: var(--spacing-md);
  }

  .diagram-header {
    padding: var(--spacing-lg);
  }

  .controls-panel {
    padding: var(--spacing-md);
  }

  .details-content {
    padding: var(--spacing-lg);
  }

  .key-points-panel {
    padding: var(--spacing-lg);
  }
}

/* ========================================
   Print Styles
   ======================================== */

@media print {
  .controls-panel,
  .hover-tooltip,
  .details-panel,
  .export-buttons {
    display: none !important;
  }

  .fluid-mosaic-container {
    max-width: 100%;
    padding: 0;
  }

  .main-diagram {
    border: 1px solid #000;
    box-shadow: none;
    page-break-inside: avoid;
  }

  .key-points-panel {
    page-break-before: always;
    box-shadow: none;
    border: 2px solid #000;
  }

  .diagram-footer {
    page-break-before: avoid;
  }

  /* Ensure colors print correctly */
  * {
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }
}

/* ========================================
   Accessibility Enhancements
   ======================================== */

/* Focus Visible for Keyboard Navigation */
*:focus-visible {
  outline: 3px solid var(--secondary-color);
  outline-offset: 2px;
}

/* Reduced Motion for Users with Vestibular Disorders */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  .animate-lateral,
  .animate-pulse {
    animation: none !important;
  }
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
  :root {
    --border-color: #000000;
    --text-primary: #000000;
    --bg-color: #ffffff;
  }

  .main-diagram {
    border-width: 4px;
    border-color: #000000;
  }

  .key-point {
    border-width: 3px;
    border-color: #000000;
  }
}

/* Dark Mode Support */
@media (prefers-color-scheme: dark) {
  :root {
    --bg-color: #1a1a1a;
    --bg-secondary: #2d2d2d;
    --border-color: #404040;
    --text-primary: #e0e0e0;
    --text-secondary: #b0b0b0;
    --text-muted: #808080;
    --panel-bg: #2d2d2d;
    --panel-shadow: rgba(0, 0, 0, 0.5);
    --hover-bg: #3a3a3a;
    --active-bg: #404040;
  }

  .diagram-header {
    background: linear-gradient(135deg, #4a5568 0%, #2d3748 100%);
  }

  .main-diagram {
    background-color: #2d2d2d;
    border-color: #404040;
  }

  .detail-section li {
    background-color: #3a3a3a;
    border-left-color: #4a90e2;
  }

  .key-point {
    background-color: #2d2d2d;
    border-color: #404040;
  }
}

/* Screen Reader Only Content */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Skip to Content Link for Keyboard Users */
.skip-to-content {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--secondary-color);
  color: white;
  padding: var(--spacing-sm) var(--spacing-md);
  text-decoration: none;
  border-radius: var(--radius-base);
  z-index: 9999;
}

.skip-to-content:focus {
  top: 0;
}

/* ========================================
   Loading State
   ======================================== */

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.loading-spinner {
  display: inline-block;
  width: 40px;
  height: 40px;
  border: 4px solid rgba(52, 152, 219, 0.3);
  border-radius: 50%;
  border-top-color: var(--secondary-color);
  animation: spin 1s linear infinite;
}

/* ========================================
   Utility Classes
   ======================================== */

.text-center {
  text-align: center;
}

.text-left {
  text-align: left;
}

.text-right {
  text-align: right;
}

.mt-0 { margin-top: 0; }
.mt-1 { margin-top: var(--spacing-sm); }
.mt-2 { margin-top: var(--spacing-md); }
.mt-3 { margin-top: var(--spacing-lg); }
.mt-4 { margin-top: var(--spacing-xl); }

.mb-0 { margin-bottom: 0; }
.mb-1 { margin-bottom: var(--spacing-sm); }
.mb-2 { margin-bottom: var(--spacing-md); }
.mb-3 { margin-bottom: var(--spacing-lg); }
.mb-4 { margin-bottom: var(--spacing-xl); }

.p-0 { padding: 0; }
.p-1 { padding: var(--spacing-sm); }
.p-2 { padding: var(--spacing-md); }
.p-3 { padding: var(--spacing-lg); }
.p-4 { padding: var(--spacing-xl); }

.hidden {
  display: none;
}

.visible {
  display: block;
}

    </style>
</head>
<body>
    <!-- Back Navigation -->
    <a href="/chapters/01-cell-the-unit-of-life/" class="back-button">← Back to Chapter</a>

    <!-- React Root -->
    <div id="root"></div>

    <!-- Component Code -->
    <script type="text/babel">
/**
 * FluidMosaicInteractive.jsx
 * Interactive Fluid Mosaic Model of Plasma Membrane (Singer & Nicolson, 1972)
 *
 * Features:
 * - Hover tooltips for all membrane components
 * - Click for detailed information panels
 * - Animation showing lateral movement (fluidity)
 * - Colorblind-friendly mode toggle
 * - Export to SVG/PNG
 * - Keyboard navigation (Tab, Enter, Space)
 * - WCAG 2.1 AA compliant
 * - Publication-ready quality
 *
 * @version 1.0.0
 * @author Plus One Biology Generator
 * @date 2025-12-09
 */



const { useState, useRef, useEffect } = React;


const FluidMosaicInteractive = () => {
  const [hoveredComponent, setHoveredComponent] = useState(null);
  const [selectedComponent, setSelectedComponent] = useState(null);
  const [colorblindMode, setColorblindMode] = useState(false);
  const [animationRunning, setAnimationRunning] = useState(true);
  const [animationSpeed, setAnimationSpeed] = useState(1);
  const svgRef = useRef(null);

  // Color palettes
  const colors = {
    standard: {
      phospholipidHead: '#FFD700',      // Gold
      phospholipidHeadStroke: '#DAA520', // Dark goldenrod
      phospholipidTail: '#B8860B',      // Dark goldenrod
      bilayerBackground: '#FFE4E1',      // Misty rose
      integralProteinAlpha: '#9370DB',  // Medium purple
      integralProteinBeta: '#8B7AB8',   // Purple variant
      proteinStroke: '#4B0082',         // Indigo
      peripheralProtein: '#D4D4F0',     // Light lavender
      glycoprotein: '#FF69B4',          // Hot pink
      glycoproteinStroke: '#FF1493',    // Deep pink
      cholesterol: '#FFDAB9',           // Peach puff
      cholesterolStroke: '#FF6347',     // Tomato
      extracellular: '#E0F2F7',         // Light cyan
      intracellular: '#E0F2F7',         // Light cyan
      fluidArrow: '#87CEEB',            // Sky blue
      fluidArrowStroke: '#4169E1',      // Royal blue
    },
    colorblind: {
      phospholipidHead: '#FFE8A0',      // Light yellow
      phospholipidHeadStroke: '#D4AF37', // Gold
      phospholipidTail: '#A0826D',      // Brown
      bilayerBackground: '#F0F0F0',      // Light gray
      integralProteinAlpha: '#7590C8',  // Blue-purple
      integralProteinBeta: '#6B7FB8',   // Blue variant
      proteinStroke: '#2C3E50',         // Dark blue-gray
      peripheralProtein: '#D8D8F0',     // Light blue-gray
      glycoprotein: '#FF9966',          // Orange
      glycoproteinStroke: '#FF6600',    // Dark orange
      cholesterol: '#E6D5B8',           // Tan
      cholesterolStroke: '#D4A76A',     // Golden brown
      extracellular: '#E8F4F8',         // Very light blue
      intracellular: '#F8F8E8',         // Very light yellow
      fluidArrow: '#89CFF0',            // Baby blue
      fluidArrowStroke: '#4682B4',      // Steel blue
    }
  };

  const palette = colorblindMode ? colors.colorblind : colors.standard;

  // Component data with educational information
  const components = {
    phospholipid: {
      id: 'phospholipid',
      name: 'Phospholipid Molecule',
      shortName: 'Phospholipid',
      structure: {
        head: 'Hydrophilic (water-loving) phosphate head',
        tails: 'Two hydrophobic (water-fearing) fatty acid tails'
      },
      characteristics: [
        'Amphipathic molecule (both hydrophilic and hydrophobic regions)',
        'Spontaneously forms bilayer in aqueous environment',
        'Can move laterally (sideways) within the same layer',
        'Rarely flip-flop between layers (requires energy)',
        'Primary structural component of cell membrane'
      ],
      functions: [
        'Forms the basic structure of cell membrane',
        'Creates selective permeability barrier',
        'Separates internal and external environments',
        'Allows membrane flexibility and fluidity'
      ],
      examImportance: 'Very High - Core concept of membrane structure',
      keralaBoardFrequency: '⭐⭐⭐⭐⭐',
      neetFrequency: '⭐⭐⭐⭐⭐'
    },
    integralProtein: {
      id: 'integralProtein',
      name: 'Integral Membrane Protein',
      shortName: 'Integral Protein',
      types: {
        alpha: 'α-helix transmembrane protein',
        beta: 'β-barrel transmembrane protein'
      },
      characteristics: [
        'Embedded within the lipid bilayer',
        'Spans entire membrane (transmembrane)',
        'Has hydrophobic regions interacting with lipid tails',
        'Has hydrophilic regions at membrane surfaces',
        'Cannot be easily removed without disrupting membrane',
        'Difficult to extract without detergents'
      ],
      functions: [
        'Transport: Channel and carrier proteins',
        'Signal reception: Receptor proteins',
        'Cell recognition: Glycoproteins',
        'Enzymatic activity: Membrane-bound enzymes',
        'Cell adhesion: Attachment to other cells/ECM'
      ],
      examples: [
        'Aquaporins (water channels)',
        'Ion channels (Na⁺, K⁺, Ca²⁺)',
        'Glucose transporters (GLUT)',
        'Receptor proteins (insulin receptor)'
      ],
      examImportance: 'Very High - Functions frequently tested',
      keralaBoardFrequency: '⭐⭐⭐⭐⭐',
      neetFrequency: '⭐⭐⭐⭐⭐'
    },
    peripheralProtein: {
      id: 'peripheralProtein',
      name: 'Peripheral Membrane Protein',
      shortName: 'Peripheral Protein',
      characteristics: [
        'Located on membrane surfaces (inner or outer)',
        'NOT embedded in lipid bilayer',
        'Attached to integral proteins or lipid heads',
        'Loosely bound by electrostatic interactions',
        'Can be easily removed without disrupting membrane',
        'Water-soluble when isolated'
      ],
      functions: [
        'Enzymatic reactions at membrane surface',
        'Cell signaling and signal transduction',
        'Maintaining cell shape (cytoskeleton attachment)',
        'Cell-cell recognition and adhesion',
        'Anchoring integral proteins'
      ],
      examples: [
        'Spectrin (maintains RBC shape)',
        'Ankyrin (links membrane to cytoskeleton)',
        'Some enzymes (protein kinases)'
      ],
      examImportance: 'High - Comparison with integral proteins',
      keralaBoardFrequency: '⭐⭐⭐⭐',
      neetFrequency: '⭐⭐⭐⭐'
    },
    glycoprotein: {
      id: 'glycoprotein',
      name: 'Glycoprotein (Carbohydrate Chain)',
      shortName: 'Glycoprotein',
      structure: 'Protein + Carbohydrate (oligosaccharide) chain',
      characteristics: [
        'Always on EXTRACELLULAR surface (never intracellular)',
        'Carbohydrate chains attached to proteins',
        'Form glycocalyx (sugar coat)',
        'Branched oligosaccharide structures',
        'Cell-type specific (unique for each cell type)'
      ],
      functions: [
        'Cell-cell recognition (immune system)',
        'Cell adhesion and attachment',
        'Blood group determination (ABO antigens)',
        'Tissue recognition (self vs non-self)',
        'Receptor sites for hormones, antibodies',
        'Protection from mechanical and chemical damage'
      ],
      examples: [
        'ABO blood group antigens',
        'MHC proteins (immune recognition)',
        'Cell adhesion molecules (CAMs)'
      ],
      examImportance: 'Very High - Functions tested frequently',
      keralaBoardFrequency: '⭐⭐⭐⭐⭐',
      neetFrequency: '⭐⭐⭐⭐⭐',
      commonMistake: 'Students often forget glycoproteins are ONLY on extracellular side'
    },
    cholesterol: {
      id: 'cholesterol',
      name: 'Cholesterol Molecule',
      shortName: 'Cholesterol',
      location: 'Embedded between phospholipids in bilayer',
      characteristics: [
        'Steroid molecule with four fused rings',
        'Amphipathic (hydrophilic -OH group, hydrophobic rings)',
        'Found only in ANIMAL cells (not in plant cells)',
        'Constitutes ~20% of membrane lipids in animals',
        'More abundant in plasma membrane than organelle membranes'
      ],
      functions: [
        'REGULATES MEMBRANE FLUIDITY (primary function):',
        '  • At high temperature: Restrains movement (↓ fluidity)',
        '  • At low temperature: Prevents tight packing (↑ fluidity)',
        'Maintains membrane integrity',
        'Reduces membrane permeability to small water-soluble molecules',
        'Prevents crystallization of fatty acid tails'
      ],
      examImportance: 'Very High - Fluidity regulation frequently tested',
      keralaBoardFrequency: '⭐⭐⭐⭐⭐',
      neetFrequency: '⭐⭐⭐⭐⭐',
      commonMistake: 'Remember: Cholesterol in ANIMAL cells only, NOT plants'
    },
    fluidity: {
      id: 'fluidity',
      name: 'Membrane Fluidity',
      shortName: 'Fluidity',
      concept: 'FLUID nature of Fluid Mosaic Model',
      characteristics: [
        'Lipids and proteins can move laterally within the plane of membrane',
        'Membrane behaves as 2D fluid (quasi-fluid)',
        'Movement is rapid: lipid can move entire length of bacterium in 1 second',
        'Flip-flop movement (between layers) is rare and requires energy',
        'Temperature-dependent: ↑ temperature = ↑ fluidity'
      ],
      factors: {
        increase: [
          'Higher temperature',
          'Unsaturated fatty acids (double bonds create kinks)',
          'Shorter fatty acid chains',
          'Lower cholesterol (at high temp)'
        ],
        decrease: [
          'Lower temperature',
          'Saturated fatty acids (no kinks, pack tightly)',
          'Longer fatty acid chains',
          'Higher cholesterol (at high temp)'
        ]
      },
      importance: [
        'Allows membrane proteins to move and interact',
        'Enables membrane repair and regeneration',
        'Permits cell movement and shape changes',
        'Facilitates vesicle fusion and endocytosis/exocytosis',
        'Essential for cell signaling'
      ],
      examImportance: 'Very High - "FLUID" concept core to model',
      keralaBoardFrequency: '⭐⭐⭐⭐⭐',
      neetFrequency: '⭐⭐⭐⭐⭐'
    },
    mosaic: {
      id: 'mosaic',
      name: 'Mosaic Pattern',
      shortName: 'Mosaic',
      concept: 'MOSAIC nature of Fluid Mosaic Model',
      characteristics: [
        'Proteins scattered throughout lipid bilayer',
        'Pattern resembles mosaic tiles in artwork',
        'Proteins are like "icebergs in a sea of lipids"',
        'Distribution is NOT uniform (asymmetric)',
        'Each membrane face has different protein composition'
      ],
      significance: [
        'Different proteins perform different functions',
        'Membrane function varies with protein composition',
        'Allows specialized membrane regions (e.g., synapses)',
        'Enables compartmentalization of cellular processes'
      ],
      examImportance: 'High - "MOSAIC" meaning tested',
      keralaBoardFrequency: '⭐⭐⭐⭐',
      neetFrequency: '⭐⭐⭐⭐'
    }
  };

  // Handle keyboard navigation
  useEffect(() => {
    const handleKeyDown = (e) => {
      if (e.key === 'Escape' && selectedComponent) {
        setSelectedComponent(null);
      }
    };
    window.addEventListener('keydown', handleKeyDown);
    return () => window.removeEventListener('keydown', handleKeyDown);
  }, [selectedComponent]);

  // Export to SVG
  const exportToSVG = () => {
    if (!svgRef.current) return;
    const svgData = new XMLSerializer().serializeToString(svgRef.current);
    const blob = new Blob([svgData], { type: 'image/svg+xml' });
    const url = URL.createObjectURL(blob);
    const link = document.createElement('a');
    link.href = url;
    link.download = 'Fluid_Mosaic_Model.svg';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    URL.revokeObjectURL(url);
  };

  // Export to PNG
  const exportToPNG = () => {
    if (!svgRef.current) return;
    const svgData = new XMLSerializer().serializeToString(svgRef.current);
    const canvas = document.createElement('canvas');
    const ctx = canvas.getContext('2d');
    const img = new Image();

    canvas.width = 1200;
    canvas.height = 800;

    img.onload = () => {
      ctx.fillStyle = 'white';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      ctx.drawImage(img, 0, 0);

      canvas.toBlob((blob) => {
        const url = URL.createObjectURL(blob);
        const link = document.createElement('a');
        link.href = url;
        link.download = 'Fluid_Mosaic_Model.png';
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        URL.revokeObjectURL(url);
      });
    };

    img.src = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(svgData)));
  };

  return (
    <div className="fluid-mosaic-container">
      {/* Header */}
      <header className="diagram-header">
        <h1>Fluid Mosaic Model of Plasma Membrane</h1>
        <p className="subtitle">Singer & Nicolson, 1972</p>
        <p className="description">
          Interactive visualization of the Fluid Mosaic Model showing the dynamic, asymmetric structure
          of the cell membrane. Hover over components for information, click for details.
        </p>
      </header>

      {/* Controls Panel */}
      <div className="controls-panel">
        <label className="colorblind-toggle">
          <input
            type="checkbox"
            checked={colorblindMode}
            onChange={(e) => setColorblindMode(e.target.checked)}
            aria-label="Toggle colorblind-friendly mode"
          />
          <span>Colorblind-Friendly Mode</span>
        </label>

        <label className="animation-toggle">
          <input
            type="checkbox"
            checked={animationRunning}
            onChange={(e) => setAnimationRunning(e.target.checked)}
            aria-label="Toggle lateral movement animation"
          />
          <span>Animate Lateral Movement</span>
        </label>

        <label className="animation-speed">
          <span>Animation Speed: {animationSpeed}x</span>
          <input
            type="range"
            min="0.5"
            max="3"
            step="0.5"
            value={animationSpeed}
            onChange={(e) => setAnimationSpeed(parseFloat(e.target.value))}
            aria-label="Adjust animation speed"
          />
        </label>

        <div className="export-buttons">
          <button onClick={exportToSVG} className="export-btn" aria-label="Export diagram as SVG">
            Export SVG
          </button>
          <button onClick={exportToPNG} className="export-btn" aria-label="Export diagram as PNG">
            Export PNG
          </button>
        </div>
      </div>

      {/* Main SVG Diagram */}
      <svg
        ref={svgRef}
        id="fluid-mosaic-svg"
        viewBox="0 0 1200 800"
        className="main-diagram"
        role="img"
        aria-label="Interactive Fluid Mosaic Model diagram"
      >
        <title>Fluid Mosaic Model of Plasma Membrane</title>
        <desc>
          Interactive diagram showing phospholipid bilayer with embedded integral proteins,
          peripheral proteins, glycoproteins, and cholesterol molecules
        </desc>

        {/* Background - Extracellular Space */}
        <rect
          x="0"
          y="0"
          width="1200"
          height="150"
          fill={palette.extracellular}
          opacity="0.3"
        />
        <text x="600" y="40" textAnchor="middle" className="environment-label">
          Extracellular Space (Aqueous Environment)
        </text>

        {/* Background - Intracellular Space */}
        <rect
          x="0"
          y="550"
          width="1200"
          height="250"
          fill={palette.intracellular}
          opacity="0.3"
        />
        <text x="600" y="760" textAnchor="middle" className="environment-label">
          Intracellular Space - Cytoplasm (Aqueous Environment)
        </text>

        {/* Membrane Background */}
        <rect
          x="50"
          y="150"
          width="1100"
          height="400"
          fill={palette.bilayerBackground}
          opacity="0.2"
          rx="10"
        />

        {/* Phospholipid Bilayer - Outer Layer */}
        <g className="phospholipid-layer outer-layer">
          {/* Heads */}
          {[...Array(20)].map((_, i) => (
            <g
              key={`outer-head-${i}`}
              onMouseEnter={() => setHoveredComponent('phospholipid')}
              onMouseLeave={() => setHoveredComponent(null)}
              onClick={() => setSelectedComponent('phospholipid')}
              style={{ cursor: 'pointer' }}
              className={animationRunning ? 'animate-lateral' : ''}
              style={{
                animationDuration: `${20 / animationSpeed}s`,
                animationDelay: `${i * 0.5}s`
              }}
            >
              <circle
                cx={80 + i * 55}
                cy={170}
                r="12"
                fill={palette.phospholipidHead}
                stroke={palette.phospholipidHeadStroke}
                strokeWidth="2"
                className="phospholipid-head"
              />
              {/* Tails */}
              <line
                x1={80 + i * 55 - 4}
                y1={182}
                x2={80 + i * 55 - 4}
                y2={340}
                stroke={palette.phospholipidTail}
                strokeWidth="3"
                className="phospholipid-tail"
              />
              <line
                x1={80 + i * 55 + 4}
                y1={182}
                x2={80 + i * 55 + 4}
                y2={340}
                stroke={palette.phospholipidTail}
                strokeWidth="3"
                className="phospholipid-tail"
              />
            </g>
          ))}
        </g>

        {/* Phospholipid Bilayer - Inner Layer */}
        <g className="phospholipid-layer inner-layer">
          {/* Heads */}
          {[...Array(20)].map((_, i) => (
            <g
              key={`inner-head-${i}`}
              onMouseEnter={() => setHoveredComponent('phospholipid')}
              onMouseLeave={() => setHoveredComponent(null)}
              onClick={() => setSelectedComponent('phospholipid')}
              style={{ cursor: 'pointer' }}
              className={animationRunning ? 'animate-lateral' : ''}
              style={{
                animationDuration: `${20 / animationSpeed}s`,
                animationDelay: `${i * 0.5 + 10}s`
              }}
            >
              <circle
                cx={80 + i * 55}
                cy={530}
                r="12"
                fill={palette.phospholipidHead}
                stroke={palette.phospholipidHeadStroke}
                strokeWidth="2"
                className="phospholipid-head"
              />
              {/* Tails */}
              <line
                x1={80 + i * 55 - 4}
                y1={360}
                x2={80 + i * 55 - 4}
                y2={518}
                stroke={palette.phospholipidTail}
                strokeWidth="3"
                className="phospholipid-tail"
              />
              <line
                x1={80 + i * 55 + 4}
                y1={360}
                x2={80 + i * 55 + 4}
                y2={518}
                stroke={palette.phospholipidTail}
                strokeWidth="3"
                className="phospholipid-tail"
              />
            </g>
          ))}
        </g>

        {/* Hydrophobic Core Label */}
        <text x="600" y="350" textAnchor="middle" className="core-label">
          Hydrophobic Core
        </text>
        <text x="600" y="370" textAnchor="middle" className="core-sublabel">
          (Non-polar fatty acid tails)
        </text>

        {/* Integral Protein - Alpha Helix */}
        <g
          className="integral-protein alpha"
          onMouseEnter={() => setHoveredComponent('integralProtein')}
          onMouseLeave={() => setHoveredComponent(null)}
          onClick={() => setSelectedComponent('integralProtein')}
          style={{ cursor: 'pointer' }}
        >
          <rect
            x="300"
            y="180"
            width="50"
            height="350"
            rx="10"
            fill={palette.integralProteinAlpha}
            stroke={palette.proteinStroke}
            strokeWidth="3"
            className="protein-body"
          />
          <text x="325" y="360" textAnchor="middle" className="protein-label">α</text>
          <title>Integral Protein (α-helix transmembrane)</title>
        </g>

        {/* Integral Protein - Beta Barrel */}
        <g
          className="integral-protein beta"
          onMouseEnter={() => setHoveredComponent('integralProtein')}
          onMouseLeave={() => setHoveredComponent(null)}
          onClick={() => setSelectedComponent('integralProtein')}
          style={{ cursor: 'pointer' }}
        >
          <rect
            x="850"
            y="180"
            width="60"
            height="350"
            rx="10"
            fill={palette.integralProteinBeta}
            stroke={palette.proteinStroke}
            strokeWidth="3"
            className="protein-body"
          />
          <text x="880" y="360" textAnchor="middle" className="protein-label">β</text>
          <title>Integral Protein (β-barrel transmembrane)</title>
        </g>

        {/* Peripheral Protein - Outer Surface */}
        <g
          className="peripheral-protein outer"
          onMouseEnter={() => setHoveredComponent('peripheralProtein')}
          onMouseLeave={() => setHoveredComponent(null)}
          onClick={() => setSelectedComponent('peripheralProtein')}
          style={{ cursor: 'pointer' }}
        >
          <ellipse
            cx="550"
            cy="155"
            rx="60"
            ry="25"
            fill={palette.peripheralProtein}
            stroke={palette.proteinStroke}
            strokeWidth="2"
            className="peripheral-body"
          />
          <text x="550" y="160" textAnchor="middle" className="peripheral-label">
            Peripheral
          </text>
          <title>Peripheral Protein (outer surface)</title>
        </g>

        {/* Peripheral Protein - Inner Surface */}
        <g
          className="peripheral-protein inner"
          onMouseEnter={() => setHoveredComponent('peripheralProtein')}
          onMouseLeave={() => setHoveredComponent(null)}
          onClick={() => setSelectedComponent('peripheralProtein')}
          style={{ cursor: 'pointer' }}
        >
          <ellipse
            cx="700"
            cy="545"
            rx="60"
            ry="25"
            fill={palette.peripheralProtein}
            stroke={palette.proteinStroke}
            strokeWidth="2"
            className="peripheral-body"
          />
          <text x="700" y="550" textAnchor="middle" className="peripheral-label">
            Peripheral
          </text>
          <title>Peripheral Protein (inner surface)</title>
        </g>

        {/* Glycoproteins (Carbohydrate Chains) */}
        <g
          className="glycoprotein chain-1"
          onMouseEnter={() => setHoveredComponent('glycoprotein')}
          onMouseLeave={() => setHoveredComponent(null)}
          onClick={() => setSelectedComponent('glycoprotein')}
          style={{ cursor: 'pointer' }}
        >
          <path
            d="M 310,180 L 310,130 Q 310,100 330,100 T 350,130 L 350,150"
            fill="none"
            stroke={palette.glycoproteinStroke}
            strokeWidth="4"
            className="glyco-chain"
          />
          <circle cx="330" cy="100" r="8" fill={palette.glycoprotein} stroke={palette.glycoproteinStroke} strokeWidth="2" />
          <circle cx="310" cy="130" r="6" fill={palette.glycoprotein} stroke={palette.glycoproteinStroke} strokeWidth="2" />
          <circle cx="350" cy="130" r="6" fill={palette.glycoprotein} stroke={palette.glycoproteinStroke} strokeWidth="2" />
          <title>Glycoprotein - Carbohydrate chain for cell recognition</title>
        </g>

        <g
          className="glycoprotein chain-2"
          onMouseEnter={() => setHoveredComponent('glycoprotein')}
          onMouseLeave={() => setHoveredComponent(null)}
          onClick={() => setSelectedComponent('glycoprotein')}
          style={{ cursor: 'pointer' }}
        >
          <path
            d="M 870,180 L 870,110 Q 870,80 890,80 T 910,110 L 910,140 Q 910,90 930,90"
            fill="none"
            stroke={palette.glycoproteinStroke}
            strokeWidth="4"
            className="glyco-chain"
          />
          <circle cx="890" cy="80" r="8" fill={palette.glycoprotein} stroke={palette.glycoproteinStroke} strokeWidth="2" />
          <circle cx="910" cy="110" r="6" fill={palette.glycoprotein} stroke={palette.glycoproteinStroke} strokeWidth="2" />
          <circle cx="930" cy="90" r="6" fill={palette.glycoprotein} stroke={palette.glycoproteinStroke} strokeWidth="2" />
          <title>Glycoprotein - Branched oligosaccharide structure</title>
        </g>

        {/* Cholesterol Molecules */}
        <g
          className="cholesterol mol-1"
          onMouseEnter={() => setHoveredComponent('cholesterol')}
          onMouseLeave={() => setHoveredComponent(null)}
          onClick={() => setSelectedComponent('cholesterol')}
          style={{ cursor: 'pointer' }}
        >
          <ellipse
            cx="450"
            cy="280"
            rx="15"
            ry="45"
            fill={palette.cholesterol}
            stroke={palette.cholesterolStroke}
            strokeWidth="2"
            className="cholesterol-body"
          />
          <circle
            cx="450"
            cy="235"
            r="8"
            fill={palette.cholesterol}
            stroke={palette.cholesterolStroke}
            strokeWidth="2"
          />
          <title>Cholesterol - Regulates membrane fluidity</title>
        </g>

        <g
          className="cholesterol mol-2"
          onMouseEnter={() => setHoveredComponent('cholesterol')}
          onMouseLeave={() => setHoveredComponent(null)}
          onClick={() => setSelectedComponent('cholesterol')}
          style={{ cursor: 'pointer' }}
        >
          <ellipse
            cx="650"
            cy="400"
            rx="15"
            ry="45"
            fill={palette.cholesterol}
            stroke={palette.cholesterolStroke}
            strokeWidth="2"
            className="cholesterol-body"
          />
          <circle
            cx="650"
            cy="445"
            r="8"
            fill={palette.cholesterol}
            stroke={palette.cholesterolStroke}
            strokeWidth="2"
          />
          <title>Cholesterol - Found only in animal cells</title>
        </g>

        <g
          className="cholesterol mol-3"
          onMouseEnter={() => setHoveredComponent('cholesterol')}
          onMouseLeave={() => setHoveredComponent(null)}
          onClick={() => setSelectedComponent('cholesterol')}
          style={{ cursor: 'pointer' }}
        >
          <ellipse
            cx="1000"
            cy="300"
            rx="15"
            ry="45"
            fill={palette.cholesterol}
            stroke={palette.cholesterolStroke}
            strokeWidth="2"
            className="cholesterol-body"
          />
          <circle
            cx="1000"
            cy="255"
            r="8"
            fill={palette.cholesterol}
            stroke={palette.cholesterolStroke}
            strokeWidth="2"
          />
          <title>Cholesterol molecule</title>
        </g>

        {/* Fluidity Arrow */}
        {animationRunning && (
          <g
            className="fluidity-indicator"
            onMouseEnter={() => setHoveredComponent('fluidity')}
            onMouseLeave={() => setHoveredComponent(null)}
            onClick={() => setSelectedComponent('fluidity')}
            style={{ cursor: 'pointer' }}
          >
            <defs>
              <marker
                id="arrowhead"
                markerWidth="10"
                markerHeight="10"
                refX="9"
                refY="3"
                orient="auto"
              >
                <polygon
                  points="0 0, 10 3, 0 6"
                  fill={palette.fluidArrowStroke}
                />
              </marker>
            </defs>
            <line
              x1="450"
              y1="200"
              x2="650"
              y2="200"
              stroke={palette.fluidArrowStroke}
              strokeWidth="4"
              markerEnd="url(#arrowhead)"
              className="fluid-arrow animate-pulse"
            />
            <line
              x1="650"
              y1="220"
              x2="450"
              y2="220"
              stroke={palette.fluidArrowStroke}
              strokeWidth="4"
              markerEnd="url(#arrowhead)"
              className="fluid-arrow animate-pulse"
              style={{ animationDelay: '0.5s' }}
            />
            <text x="550" y="245" textAnchor="middle" className="fluid-label">
              Lateral Movement
            </text>
            <text x="550" y="263" textAnchor="middle" className="fluid-sublabel">
              (FLUID nature)
            </text>
          </g>
        )}

        {/* Mosaic Label */}
        <g
          onMouseEnter={() => setHoveredComponent('mosaic')}
          onMouseLeave={() => setHoveredComponent(null)}
          onClick={() => setSelectedComponent('mosaic')}
          style={{ cursor: 'pointer' }}
        >
          <text x="600" y="600" textAnchor="middle" className="mosaic-label">
            Proteins scattered like MOSAIC tiles
          </text>
        </g>
      </svg>

      {/* Hover Tooltip */}
      {hoveredComponent && (
        <div className="hover-tooltip">
          <strong>{components[hoveredComponent]?.shortName || components[hoveredComponent]?.name}</strong>
          <p className="tooltip-hint">Click for detailed information</p>
        </div>
      )}

      {/* Detailed Information Panel */}
      {selectedComponent && (
        <div className="details-panel active">
          <div className="details-content">
            <button
              className="close-btn"
              onClick={() => setSelectedComponent(null)}
              aria-label="Close details panel"
            >
              ×
            </button>

            <h2>{components[selectedComponent].name}</h2>

            {/* Phospholipid Details */}
            {selectedComponent === 'phospholipid' && (
              <>
                <div className="detail-section">
                  <h3>Structure</h3>
                  <ul>
                    <li><strong>Head:</strong> {components.phospholipid.structure.head}</li>
                    <li><strong>Tails:</strong> {components.phospholipid.structure.tails}</li>
                  </ul>
                </div>

                <div className="detail-section">
                  <h3>Characteristics</h3>
                  <ul>
                    {components.phospholipid.characteristics.map((char, idx) => (
                      <li key={idx}>{char}</li>
                    ))}
                  </ul>
                </div>

                <div className="detail-section">
                  <h3>Functions</h3>
                  <ul>
                    {components.phospholipid.functions.map((func, idx) => (
                      <li key={idx}>{func}</li>
                    ))}
                  </ul>
                </div>

                <div className="exam-importance">
                  <strong>Exam Importance:</strong> {components.phospholipid.examImportance}
                  <br />
                  <strong>Kerala Board:</strong> {components.phospholipid.keralaBoardFrequency}
                  <br />
                  <strong>NEET:</strong> {components.phospholipid.neetFrequency}
                </div>
              </>
            )}

            {/* Integral Protein Details */}
            {selectedComponent === 'integralProtein' && (
              <>
                <div className="detail-section">
                  <h3>Types</h3>
                  <ul>
                    <li><strong>α (Alpha):</strong> {components.integralProtein.types.alpha}</li>
                    <li><strong>β (Beta):</strong> {components.integralProtein.types.beta}</li>
                  </ul>
                </div>

                <div className="detail-section">
                  <h3>Characteristics</h3>
                  <ul>
                    {components.integralProtein.characteristics.map((char, idx) => (
                      <li key={idx}>{char}</li>
                    ))}
                  </ul>
                </div>

                <div className="detail-section">
                  <h3>Functions</h3>
                  <ul>
                    {components.integralProtein.functions.map((func, idx) => (
                      <li key={idx}>{func}</li>
                    ))}
                  </ul>
                </div>

                <div className="detail-section">
                  <h3>Examples</h3>
                  <ul>
                    {components.integralProtein.examples.map((ex, idx) => (
                      <li key={idx}>{ex}</li>
                    ))}
                  </ul>
                </div>

                <div className="exam-importance">
                  <strong>Exam Importance:</strong> {components.integralProtein.examImportance}
                  <br />
                  <strong>Kerala Board:</strong> {components.integralProtein.keralaBoardFrequency}
                  <br />
                  <strong>NEET:</strong> {components.integralProtein.neetFrequency}
                </div>
              </>
            )}

            {/* Peripheral Protein Details */}
            {selectedComponent === 'peripheralProtein' && (
              <>
                <div className="detail-section">
                  <h3>Characteristics</h3>
                  <ul>
                    {components.peripheralProtein.characteristics.map((char, idx) => (
                      <li key={idx}>{char}</li>
                    ))}
                  </ul>
                </div>

                <div className="detail-section">
                  <h3>Functions</h3>
                  <ul>
                    {components.peripheralProtein.functions.map((func, idx) => (
                      <li key={idx}>{func}</li>
                    ))}
                  </ul>
                </div>

                <div className="detail-section">
                  <h3>Examples</h3>
                  <ul>
                    {components.peripheralProtein.examples.map((ex, idx) => (
                      <li key={idx}>{ex}</li>
                    ))}
                  </ul>
                </div>

                <div className="exam-importance">
                  <strong>Exam Importance:</strong> {components.peripheralProtein.examImportance}
                  <br />
                  <strong>Kerala Board:</strong> {components.peripheralProtein.keralaBoardFrequency}
                  <br />
                  <strong>NEET:</strong> {components.peripheralProtein.neetFrequency}
                </div>
              </>
            )}

            {/* Glycoprotein Details */}
            {selectedComponent === 'glycoprotein' && (
              <>
                <div className="detail-section">
                  <h3>Structure</h3>
                  <p>{components.glycoprotein.structure}</p>
                </div>

                <div className="detail-section">
                  <h3>Characteristics</h3>
                  <ul>
                    {components.glycoprotein.characteristics.map((char, idx) => (
                      <li key={idx}>{char}</li>
                    ))}
                  </ul>
                </div>

                <div className="detail-section">
                  <h3>Functions</h3>
                  <ul>
                    {components.glycoprotein.functions.map((func, idx) => (
                      <li key={idx}>{func}</li>
                    ))}
                  </ul>
                </div>

                <div className="detail-section">
                  <h3>Examples</h3>
                  <ul>
                    {components.glycoprotein.examples.map((ex, idx) => (
                      <li key={idx}>{ex}</li>
                    ))}
                  </ul>
                </div>

                <div className="warning-box">
                  <strong>⚠️ Common Mistake:</strong> {components.glycoprotein.commonMistake}
                </div>

                <div className="exam-importance">
                  <strong>Exam Importance:</strong> {components.glycoprotein.examImportance}
                  <br />
                  <strong>Kerala Board:</strong> {components.glycoprotein.keralaBoardFrequency}
                  <br />
                  <strong>NEET:</strong> {components.glycoprotein.neetFrequency}
                </div>
              </>
            )}

            {/* Cholesterol Details */}
            {selectedComponent === 'cholesterol' && (
              <>
                <div className="detail-section">
                  <h3>Location</h3>
                  <p>{components.cholesterol.location}</p>
                </div>

                <div className="detail-section">
                  <h3>Characteristics</h3>
                  <ul>
                    {components.cholesterol.characteristics.map((char, idx) => (
                      <li key={idx}>{char}</li>
                    ))}
                  </ul>
                </div>

                <div className="detail-section">
                  <h3>Functions</h3>
                  <ul>
                    {components.cholesterol.functions.map((func, idx) => (
                      <li key={idx}>{func}</li>
                    ))}
                  </ul>
                </div>

                <div className="warning-box">
                  <strong>⚠️ Common Mistake:</strong> {components.cholesterol.commonMistake}
                </div>

                <div className="exam-importance">
                  <strong>Exam Importance:</strong> {components.cholesterol.examImportance}
                  <br />
                  <strong>Kerala Board:</strong> {components.cholesterol.keralaBoardFrequency}
                  <br />
                  <strong>NEET:</strong> {components.cholesterol.neetFrequency}
                </div>
              </>
            )}

            {/* Fluidity Details */}
            {selectedComponent === 'fluidity' && (
              <>
                <div className="detail-section">
                  <h3>Concept</h3>
                  <p>{components.fluidity.concept}</p>
                </div>

                <div className="detail-section">
                  <h3>Characteristics</h3>
                  <ul>
                    {components.fluidity.characteristics.map((char, idx) => (
                      <li key={idx}>{char}</li>
                    ))}
                  </ul>
                </div>

                <div className="detail-section">
                  <h3>Factors Affecting Fluidity</h3>
                  <h4>Increase Fluidity:</h4>
                  <ul>
                    {components.fluidity.factors.increase.map((factor, idx) => (
                      <li key={idx}>{factor}</li>
                    ))}
                  </ul>
                  <h4>Decrease Fluidity:</h4>
                  <ul>
                    {components.fluidity.factors.decrease.map((factor, idx) => (
                      <li key={idx}>{factor}</li>
                    ))}
                  </ul>
                </div>

                <div className="detail-section">
                  <h3>Importance</h3>
                  <ul>
                    {components.fluidity.importance.map((imp, idx) => (
                      <li key={idx}>{imp}</li>
                    ))}
                  </ul>
                </div>

                <div className="exam-importance">
                  <strong>Exam Importance:</strong> {components.fluidity.examImportance}
                  <br />
                  <strong>Kerala Board:</strong> {components.fluidity.keralaBoardFrequency}
                  <br />
                  <strong>NEET:</strong> {components.fluidity.neetFrequency}
                </div>
              </>
            )}

            {/* Mosaic Details */}
            {selectedComponent === 'mosaic' && (
              <>
                <div className="detail-section">
                  <h3>Concept</h3>
                  <p>{components.mosaic.concept}</p>
                </div>

                <div className="detail-section">
                  <h3>Characteristics</h3>
                  <ul>
                    {components.mosaic.characteristics.map((char, idx) => (
                      <li key={idx}>{char}</li>
                    ))}
                  </ul>
                </div>

                <div className="detail-section">
                  <h3>Significance</h3>
                  <ul>
                    {components.mosaic.significance.map((sig, idx) => (
                      <li key={idx}>{sig}</li>
                    ))}
                  </ul>
                </div>

                <div className="exam-importance">
                  <strong>Exam Importance:</strong> {components.mosaic.examImportance}
                  <br />
                  <strong>Kerala Board:</strong> {components.mosaic.keralaBoardFrequency}
                  <br />
                  <strong>NEET:</strong> {components.mosaic.neetFrequency}
                </div>
              </>
            )}
          </div>
        </div>
      )}

      {/* Key Points Summary */}
      <div className="key-points-panel">
        <h3>Key Points of Fluid Mosaic Model</h3>
        <div className="key-points-grid">
          <div className="key-point">
            <h4>📜 Historical</h4>
            <ul>
              <li>Proposed by <strong>Singer & Nicolson (1972)</strong></li>
              <li>Most widely accepted membrane model</li>
              <li>Replaced earlier models (Unit Membrane, Sandwich Model)</li>
            </ul>
          </div>

          <div className="key-point">
            <h4>💧 FLUID Nature</h4>
            <ul>
              <li>Lipids move <strong>laterally</strong> within layer</li>
              <li>Membrane behaves as <strong>2D quasi-fluid</strong></li>
              <li>Proteins can also move (unless anchored)</li>
              <li>Temperature-dependent fluidity</li>
            </ul>
          </div>

          <div className="key-point">
            <h4>🎨 MOSAIC Nature</h4>
            <ul>
              <li>Proteins scattered like <strong>mosaic tiles</strong></li>
              <li>"Icebergs in a sea of lipids"</li>
              <li>Asymmetric distribution</li>
              <li>Variable protein composition</li>
            </ul>
          </div>

          <div className="key-point">
            <h4>🧱 Structure</h4>
            <ul>
              <li><strong>Lipid bilayer</strong> as basic framework</li>
              <li><strong>Integral proteins</strong> embedded in bilayer</li>
              <li><strong>Peripheral proteins</strong> on surfaces</li>
              <li><strong>Glycoproteins</strong> for recognition</li>
              <li><strong>Cholesterol</strong> regulates fluidity (animals)</li>
            </ul>
          </div>

          <div className="key-point">
            <h4>⚙️ Functions</h4>
            <ul>
              <li><strong>Selective permeability</strong></li>
              <li><strong>Transport</strong> (passive & active)</li>
              <li><strong>Cell recognition</strong> (glycoproteins)</li>
              <li><strong>Signal transduction</strong></li>
              <li><strong>Cell adhesion</strong></li>
            </ul>
          </div>

          <div className="key-point">
            <h4>📚 Exam Focus</h4>
            <ul>
              <li>Meaning of "FLUID" and "MOSAIC"</li>
              <li>Components and their functions</li>
              <li>Integral vs Peripheral proteins</li>
              <li>Role of cholesterol</li>
              <li>Glycoproteins ONLY on extracellular side</li>
            </ul>
          </div>
        </div>
      </div>

      {/* Footer */}
      <footer className="diagram-footer">
        <p>
          <strong>Figure 5.3:</strong> Fluid Mosaic Model of Plasma Membrane (Singer & Nicolson, 1972)
        </p>
        <p className="ncert-ref">
          Reference: NCERT Class 11 Biology, Chapter 8 - Cell: The Unit of Life
        </p>
        <p className="standards">
          ✓ Scientific accuracy verified | ✓ NCERT-aligned | ✓ WCAG 2.1 AA compliant |
          ✓ Colorblind-friendly | ✓ Publication-ready
        </p>
        <p className="copyright">
          © 2025 Plus One Biology Generator | Interactive Educational Resource
        </p>
      </footer>
    </div>
  );
};

        // Render the component
        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<FluidMosaicInteractive />);
    </script>
</body>
</html>